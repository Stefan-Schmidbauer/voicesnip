# Quickstrap Installation Profiles Configuration
#
# This file configures how your application will be installed on different platforms.
# Quickstrap supports both Linux and Windows with platform-specific configuration.

[metadata]
# REQUIRED: Display name of your application
app_name = VoiceSnip

# REQUIRED: Directory name for storing installation info
# Linux: ~/.config/{config_dir}/
# Windows: %LOCALAPPDATA%\{config_dir}\
# Use lowercase with hyphens (e.g., my-app, desktop-tool, data-manager)
config_dir = voicesnip

# OPTIONAL: Platform support declaration (default: linux,windows)
# Valid values: "linux", "windows", or "linux,windows"
# If set to only one platform, installation will fail on the other platform
supported_platforms = linux,windows

# REQUIRED: Command to start your application (platform-specific)
# Use platform-specific keys for different commands on each platform:
start_command_linux = python3 main.py
start_command_windows = python main.py

# OPTIONAL: Message shown after successful installation (platform-specific)
after_install_linux = Start VoiceSnip with: ./start.sh
after_install_windows = Start VoiceSnip with: .\start.ps1


# ==============================================================================
# Installation Profiles
# ==============================================================================
# You can define multiple profiles for different installation scenarios.
# Examples: minimal, standard, full, development, production
#
# Each profile can have platform-specific configuration using _linux or _windows
# suffixes. If no platform-specific key is found, Quickstrap falls back to the
# generic key (without suffix).

[profile:basis]
name = Basis (CPU)
description = Deepgram cloud + Whisper local CPU transcription. No GPU acceleration.
features = whisper,deepgram,faster-whisper-server
python_requirements_linux = quickstrap/requirements_python_basis.txt
python_requirements_windows = quickstrap/requirements_python_basis_windows.txt
system_requirements_linux = quickstrap/requirements_system_basis.txt
system_check_script_windows = quickstrap/scripts/check_system_windows_voicesnip.ps1

[profile:cuda]
name = CUDA (GPU-accelerated)
description = Deepgram cloud + Local Whisper (CPU + GPU). Requires NVIDIA GPU.
features = whisper,deepgram,cuda,faster-whisper-server
python_requirements_linux = quickstrap/requirements_python_cuda.txt
python_requirements_windows = quickstrap/requirements_python_cuda_windows.txt
system_requirements_linux = quickstrap/requirements_system_cuda.txt
system_check_script_windows = quickstrap/scripts/check_system_windows_voicesnip.ps1
pre_install_scripts_linux = quickstrap/scripts/check_nvidia_cuda.sh
pre_install_scripts_windows = quickstrap/scripts/check_nvidia_cuda_windows.ps1
post_install_scripts_linux = quickstrap/scripts/setup_cuda_venv_activate.sh

#[profile:standard]
#name = Standard Installation
#description = Complete installation with all features

# Comma-separated list of features (used by your app to check what's installed)
# Examples: gui,pdf,database,printing,api,web,cli
#features = gui,database

# REQUIRED: Python package requirements (platform-specific)
# Each platform has its own requirements file to handle platform-specific packages
# (e.g., pywin32 for Windows, python-daemon for Linux)
#python_requirements_linux = quickstrap/requirements_python_linux.txt
#python_requirements_windows = quickstrap/requirements_python_windows.txt

# REQUIRED: System package requirements (platform-specific)
# Linux: File containing APT/DEB package names (one per line)
# Windows: PowerShell script that checks for required software
#system_requirements_linux = quickstrap/requirements_system_linux.txt
#system_check_script_windows = quickstrap/scripts/check_system_windows.ps1

# OPTIONAL: Pre-installation scripts (platform-specific, comma-separated)
# These scripts run BEFORE the virtual environment is created.
# Use them to verify system requirements (e.g., GPU drivers, Docker, etc.)
# If a script fails, the user can choose to continue or abort.
# Linux: Bash scripts (.sh)
# Windows: PowerShell scripts (.ps1)
# pre_install_scripts_linux = quickstrap/scripts/check_nvidia_driver.sh
# pre_install_scripts_windows = quickstrap/scripts/check_nvidia_driver.ps1

# OPTIONAL: Post-installation scripts (platform-specific, comma-separated)
# These scripts run AFTER Python packages are installed.
# Linux: Bash scripts (.sh)
# Windows: PowerShell scripts (.ps1)
# post_install_scripts_linux = quickstrap/scripts/init_database.sh
# post_install_scripts_windows = quickstrap/scripts/init_database.ps1


# ==============================================================================
# Example: Minimal Profile (cross-platform)
# ==============================================================================
# [profile:minimal]
# name = Minimal Installation
# description = Minimal CLI-only installation for both platforms
# features = cli
# python_requirements_linux = quickstrap/requirements_python_linux.txt
# python_requirements_windows = quickstrap/requirements_python_windows.txt
# system_requirements_linux = quickstrap/requirements_system_linux.txt
# system_check_script_windows = quickstrap/scripts/check_system_windows.ps1


# ==============================================================================
# Example: Linux-Only Profile
# ==============================================================================
# For Linux-only projects, set supported_platforms in [metadata]:
# supported_platforms = linux
#
# Then you only need to provide Linux-specific configuration:
# [profile:linux-server]
# name = Linux Server Installation
# description = Server installation (Linux only)
# features = server,api,database
# python_requirements_linux = quickstrap/requirements_python_linux.txt
# system_requirements_linux = quickstrap/requirements_system_linux.txt
# post_install_scripts_linux = quickstrap/scripts/setup_systemd.sh


# ==============================================================================
# Example: Windows-Only Profile
# ==============================================================================
# For Windows-only projects, set supported_platforms in [metadata]:
# supported_platforms = windows
#
# Then you only need to provide Windows-specific configuration:
# [profile:windows-desktop]
# name = Windows Desktop Installation
# description = Desktop application (Windows only)
# features = gui,printing
# python_requirements_windows = quickstrap/requirements_python_windows.txt
# system_check_script_windows = quickstrap/scripts/check_system_windows.ps1
# post_install_scripts_windows = quickstrap/scripts/setup_shortcuts.ps1


# ==============================================================================
# Example: Development Profile (cross-platform)
# ==============================================================================
# [profile:development]
# name = Development Installation
# description = Full installation with development tools
# features = gui,database,testing,linting
# python_requirements_linux = quickstrap/requirements_python_dev_linux.txt
# python_requirements_windows = quickstrap/requirements_python_dev_windows.txt
# system_requirements_linux = quickstrap/requirements_system_linux.txt
# system_check_script_windows = quickstrap/scripts/check_system_windows.ps1
# post_install_scripts_linux = quickstrap/scripts/setup_dev_environment.sh
# post_install_scripts_windows = quickstrap/scripts/setup_dev_environment.ps1


# ==============================================================================
# Example: CUDA Profile with GPU check (cross-platform)
# ==============================================================================
# [profile:cuda]
# name = CUDA Installation
# description = Installation with GPU acceleration support
# features = gpu,cuda,ai
# python_requirements_linux = quickstrap/requirements_python_cuda_linux.txt
# python_requirements_windows = quickstrap/requirements_python_cuda_windows.txt
# system_requirements_linux = quickstrap/requirements_system_linux.txt
# system_check_script_windows = quickstrap/scripts/check_system_windows.ps1
# pre_install_scripts_linux = quickstrap/scripts/check_nvidia_driver.sh
# pre_install_scripts_windows = quickstrap/scripts/check_nvidia_driver.ps1
# post_install_scripts_linux = quickstrap/scripts/verify_cuda.sh
# post_install_scripts_windows = quickstrap/scripts/verify_cuda.ps1
